{
  "id": "telegram",
  "name": "Telegram",
  "runtime": "quickjs",
  "entry": "index.js",
  "version": "2.0.0",
  "description": "Telegram integration via TDLib â€” 50+ tools for chats, messages, contacts, admin, and search.",
  "auto_start": true,
  "platforms": ["windows", "macos", "linux", "android", "ios"],
  "env": ["TELEGRAM_API_ID", "TELEGRAM_API_HASH"],
  "setup": { "required": true, "label": "Connect Telegram" },
  "events_emitted": [
    {
      "type": "telegram.message.received",
      "description": "A new message was received in any chat",
      "entities": {
        "chat": { "types": ["telegram.group", "telegram.channel", "telegram.dm"] },
        "sender": { "types": ["telegram.contact", "telegram.channel"] }
      },
      "data_schema": {
        "text": "string",
        "content_type": "string",
        "is_outgoing": "boolean",
        "chat_id": "string",
        "message_id": "string"
      }
    },
    {
      "type": "telegram.message.edited",
      "description": "A message's content was edited",
      "entities": { "chat": { "types": ["telegram.group", "telegram.channel", "telegram.dm"] } },
      "data_schema": {
        "text": "string",
        "content_type": "string",
        "chat_id": "string",
        "message_id": "string"
      }
    },
    {
      "type": "telegram.message.deleted",
      "description": "One or more messages were deleted from a chat",
      "entities": { "chat": { "types": ["telegram.group", "telegram.channel", "telegram.dm"] } },
      "data_schema": { "chat_id": "string", "message_ids": "string[]", "is_permanent": "boolean" }
    },
    {
      "type": "telegram.chat.created",
      "description": "A new chat was discovered or created",
      "entities": { "chat": { "types": ["telegram.group", "telegram.channel", "telegram.dm"] } },
      "data_schema": { "chat_id": "string", "title": "string", "chat_type": "string" }
    },
    {
      "type": "telegram.chat.member_joined",
      "description": "A member was added or joined a group",
      "entities": {
        "chat": { "types": ["telegram.group"] },
        "member": { "types": ["telegram.contact"] },
        "added_by": { "types": ["telegram.contact"] }
      },
      "data_schema": { "chat_id": "string", "member_id": "string", "added_by_id": "string|null" }
    },
    {
      "type": "telegram.chat.member_left",
      "description": "A member left or was removed from a group",
      "entities": {
        "chat": { "types": ["telegram.group"] },
        "member": { "types": ["telegram.contact"] }
      },
      "data_schema": { "chat_id": "string", "member_id": "string", "removed_by_id": "string|null" }
    },
    {
      "type": "telegram.user.status_changed",
      "description": "A user's online status changed",
      "entities": { "user": { "types": ["telegram.contact"] } },
      "data_schema": { "user_id": "string", "status_type": "string" }
    }
  ],
  "entity_schema": {
    "entity_types": [
      {
        "type": "telegram.contact",
        "label": "Telegram Contact",
        "description": "A Telegram user (contact, bot, or other participant).",
        "properties": [
          { "name": "first_name", "type": "string", "description": "First name" },
          { "name": "last_name", "type": "string", "description": "Last name", "optional": true },
          {
            "name": "username",
            "type": "string",
            "description": "Telegram @username",
            "optional": true
          },
          {
            "name": "phone_number",
            "type": "string",
            "description": "Phone number",
            "optional": true
          },
          { "name": "is_bot", "type": "boolean", "description": "Whether this user is a bot" }
        ]
      },
      {
        "type": "telegram.group",
        "label": "Telegram Group",
        "description": "A Telegram group or supergroup chat.",
        "properties": [
          { "name": "title", "type": "string", "description": "Group title" },
          {
            "name": "username",
            "type": "string",
            "description": "Public @username",
            "optional": true
          },
          {
            "name": "participants_count",
            "type": "number",
            "description": "Number of members",
            "optional": true
          },
          {
            "name": "unread_count",
            "type": "number",
            "description": "Current unread message count"
          }
        ]
      },
      {
        "type": "telegram.channel",
        "label": "Telegram Channel",
        "description": "A Telegram broadcast channel.",
        "properties": [
          { "name": "title", "type": "string", "description": "Channel title" },
          {
            "name": "username",
            "type": "string",
            "description": "Public @username",
            "optional": true
          },
          {
            "name": "participants_count",
            "type": "number",
            "description": "Number of subscribers",
            "optional": true
          },
          {
            "name": "unread_count",
            "type": "number",
            "description": "Current unread message count"
          }
        ]
      },
      {
        "type": "telegram.dm",
        "label": "Telegram DM",
        "description": "A private (direct message) conversation with a single contact.",
        "properties": [
          { "name": "title", "type": "string", "description": "Display name of the conversation" },
          {
            "name": "unread_count",
            "type": "number",
            "description": "Current unread message count"
          }
        ]
      }
    ],
    "relationship_types": [
      {
        "type": "member_of",
        "source_type": "telegram.contact",
        "target_type": "telegram.group",
        "description": "Contact is a member of this group.",
        "cardinality": "many_to_many"
      },
      {
        "type": "subscriber_of",
        "source_type": "telegram.contact",
        "target_type": "telegram.channel",
        "description": "Contact subscribes to this channel.",
        "cardinality": "many_to_many"
      },
      {
        "type": "dm_with",
        "source_type": "telegram.dm",
        "target_type": "telegram.contact",
        "description": "DM conversation is with this contact.",
        "cardinality": "one_to_one"
      }
    ]
  }
}
